<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta charset="UTF-8">

    <!-- Fornecer uma descrição breve e precisa da página, que pode ser exibida nos resultados de pesquisa como o trecho (snippet) abaixo do título. -->
    <meta name="description"
        content="Conheça Les Vignes d’Or, vinhos artesanais da França direto para você. Explore nossa coleção e compre online com segurança.">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Les Vignes d’Or – Vinhos Artesanais da França | Loja Oficial</title>

    <!-- Importação de arquivos de estilo -->



    <!-- Importação do framework "font awesome" -->

    <script src="https://kit.fontawesome.com/8991f246e8.js" crossorigin="anonymous"></script>

    <!-- Importação do framework "bootstrap" -->



    <!-- Importação da fonte do google -->



</head>

<body>


    {% extends 'base.html' %}

    {% block title %}Página Inicial - Les Vignes d’Or{% endblock %}

    {% block content %}
        <main>

            <section class="store">

                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}

                            <p class="alert alert-{{ category }}" role="alert">{{ message }}</p>

                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <h1 class="store__title">Nossos Vinhos</h1>

                <div class="store__grid">
                    {# Loop sobre 'produtos' (que são os vinhos), conforme passado pelo Flask #}
                    
                    {% for vinho in produtos %}

                    <article class="product-card">

                        <img src="{{ vinho.imagem_url }}" alt="{{ vinho.nome }}" class="product-card__image">
                        <h3 class="product-card__name">{{ vinho.nome }}</h3>
                        <p class="product-card__description">{{ vinho.descricao }}</p>
                        <p class="product-card__price">R$ {{ '%.2f'|format(vinho.preco) }}</p>
                        <a href="{{ url_for('detalhes_vinho', vinho_id=vinho.id_produto) }}"
                            class="product-card__details-button">Ver Detalhes</a>

                    </article><!--product-card-->

                    {% else %}

                    <p class="store__error-message">Nenhum vinho encontrado.</p>

                    {% endfor %}

                </div><!--store__grid-->

            </section><!--store-->

        </main>
    {% endblock %}

</body>

</html>